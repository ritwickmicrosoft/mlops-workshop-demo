<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MLOps Workshop Playbook ‚Äî Azure ML</title>
  <style>
    :root {
      --bg: #0b0f19; --card: #111827; --text: #e5e7eb; --muted: #9ca3af;
      --link: #93c5fd; --border: rgba(255,255,255,0.10); --ok: #34d399;
      --warn: #fbbf24; --bad: #fb7185; --code: #0a1226;
      --shadow: 0 10px 30px rgba(0,0,0,0.35); --radius: 16px; --accent: #6366f1;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      --sans: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    }
    @media (prefers-color-scheme: light) {
      :root { --bg: #f6f7fb; --card: #fff; --text: #0f172a; --muted: #475569;
        --link: #1d4ed8; --border: rgba(2,6,23,0.10); --code: #f1f5f9;
        --shadow: 0 10px 30px rgba(2,6,23,0.10); }
    }
    * { box-sizing: border-box; }
    body { margin: 0; font-family: var(--sans); color: var(--text); line-height: 1.6;
      background: radial-gradient(1200px 800px at 10% 0%, rgba(99,102,241,0.15), transparent 55%),
        radial-gradient(1200px 800px at 90% 10%, rgba(52,211,153,0.12), transparent 55%), var(--bg); }
    a { color: var(--link); text-decoration: none; } a:hover { text-decoration: underline; }
    .wrap { max-width: 960px; margin: 0 auto; padding: 24px 16px 60px; }
    header { text-align: center; margin-bottom: 24px; }
    .logo { font-size: 44px; margin-bottom: 4px; }
    .title { font-size: 26px; font-weight: 800; background: linear-gradient(135deg, var(--link), var(--ok));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .subtitle { color: var(--muted); font-size: 14px; margin-top: 4px; }
    .meta-row { display: flex; justify-content: center; gap: 18px; margin-top: 10px; flex-wrap: wrap; }
    .meta-item { display: flex; align-items: center; gap: 4px; font-size: 12px; color: var(--muted); }
    .pillrow { display: flex; gap: 5px; flex-wrap: wrap; justify-content: center; margin-top: 10px; }
    .pill { border: 1px solid var(--border); background: color-mix(in srgb, var(--card) 75%, transparent);
      padding: 3px 8px; border-radius: 999px; font-size: 10px; color: var(--muted); }
    .card { background: color-mix(in srgb, var(--card) 95%, transparent); border: 1px solid var(--border);
      border-radius: var(--radius); box-shadow: var(--shadow); padding: 16px 18px; margin-bottom: 14px; }
    .module { border-left: 4px solid var(--accent); }
    .module-header { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
    .module-number { background: var(--accent); color: white; font-weight: 700; font-size: 12px;
      padding: 2px 9px; border-radius: 999px; }
    .module-title { font-size: 16px; font-weight: 700; flex: 1; }
    .module-time { font-size: 11px; color: var(--muted); background: color-mix(in srgb, var(--card) 60%, transparent);
      padding: 2px 7px; border-radius: 999px; border: 1px solid var(--border); }
    .step { display: flex; gap: 8px; padding: 8px 0; border-bottom: 1px solid var(--border); }
    .step:last-child { border-bottom: none; }
    .step-check { width: 20px; height: 20px; border: 2px solid var(--border); border-radius: 4px;
      cursor: pointer; display: flex; align-items: center; justify-content: center; flex-shrink: 0; transition: all 0.2s; }
    .step-check:hover { border-color: var(--ok); }
    .step-check.checked { background: var(--ok); border-color: var(--ok); }
    .step-check.checked::after { content: "‚úì"; color: white; font-weight: 700; font-size: 12px; }
    .step-content { flex: 1; }
    .step-title { font-weight: 600; margin-bottom: 2px; font-size: 13px; }
    .step-desc { font-size: 12px; color: var(--muted); }
    pre { margin: 6px 0; padding: 10px 12px; border-radius: 8px; background: var(--code);
      border: 1px solid var(--border); overflow-x: auto; font-family: var(--mono); font-size: 11px; line-height: 1.5; }
    code { font-family: var(--mono); font-size: 11px; }
    .note { border-radius: 8px; padding: 8px 12px; margin: 8px 0; font-size: 12px; }
    .note-facilitator { background: color-mix(in srgb, var(--warn) 15%, transparent); border: 1px solid color-mix(in srgb, var(--warn) 40%, transparent); }
    .note-facilitator::before { content: "üë®‚Äçüè´ "; font-weight: 700; }
    .note-demo { background: color-mix(in srgb, var(--link) 12%, transparent); border: 1px solid color-mix(in srgb, var(--link) 30%, transparent); }
    .note-demo::before { content: "üéØ "; font-weight: 700; }
    .note-success { background: color-mix(in srgb, var(--ok) 12%, transparent); border: 1px solid color-mix(in srgb, var(--ok) 30%, transparent); }
    .note-success::before { content: "‚úÖ "; font-weight: 700; }
    .note-warn { background: color-mix(in srgb, var(--bad) 12%, transparent); border: 1px solid color-mix(in srgb, var(--bad) 30%, transparent); }
    .note-warn::before { content: "‚ö†Ô∏è "; font-weight: 700; }
    .progress-bar { background: var(--border); height: 5px; border-radius: 999px; margin: 12px 0; overflow: hidden; }
    .progress-fill { background: linear-gradient(90deg, var(--accent), var(--ok)); height: 100%; width: 0%; transition: width 0.3s; }
    .toc { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 8px; margin-bottom: 16px; }
    .toc-item { display: flex; align-items: center; gap: 6px; padding: 8px 12px;
      background: color-mix(in srgb, var(--card) 80%, transparent); border: 1px solid var(--border);
      border-radius: 8px; text-decoration: none; color: var(--text); font-size: 12px; transition: all 0.2s; }
    .toc-item:hover { border-color: var(--accent); transform: translateY(-1px); text-decoration: none; }
    .toc-num { background: var(--accent); color: white; font-weight: 700; font-size: 10px; padding: 1px 6px; border-radius: 999px; }
    footer { text-align: center; margin-top: 28px; padding-top: 14px; border-top: 1px solid var(--border); color: var(--muted); font-size: 11px; }
  </style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="logo">üöÄ</div>
    <div class="title">MLOps Workshop Playbook</div>
    <div class="subtitle">End-to-End Azure ML + MLflow Hands-On Lab</div>
    <div class="meta-row">
      <div class="meta-item">‚è±Ô∏è ~60 min</div>
      <div class="meta-item">üë• 1-20 participants</div>
      <div class="meta-item">üíª Windows + VS Code</div>
    </div>
    <div class="pillrow">
      <span class="pill">Azure ML SDK v2</span>
      <span class="pill">MLflow</span>
      <span class="pill">Batch Endpoints</span>
      <span class="pill">Drift Detection</span>
      <span class="pill">Governance</span>
    </div>
  </header>

  <div class="card">
    <strong>üìã Progress</strong>
    <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
    <div style="display:flex;justify-content:space-between;font-size:11px;color:var(--muted);">
      <span>Completed: <strong id="completedCount">0</strong>/6 modules</span>
      <span id="progressPercent">0%</span>
    </div>
  </div>

  <div class="toc">
    <a href="#m1" class="toc-item"><span class="toc-num">1</span> Setup</a>
    <a href="#m2" class="toc-item"><span class="toc-num">2</span> Train</a>
    <a href="#m3" class="toc-item"><span class="toc-num">3</span> Batch</a>
    <a href="#m4" class="toc-item"><span class="toc-num">4</span> Retrain</a>
    <a href="#m5" class="toc-item"><span class="toc-num">5</span> Drift</a>
    <a href="#m6" class="toc-item"><span class="toc-num">6</span> Govern</a>
  </div>

  <!-- Module 1 -->
  <section id="m1" class="card module">
    <div class="module-header">
      <span class="module-number">1</span>
      <span class="module-title">Environment Setup</span>
      <span class="module-time">10 min</span>
    </div>
    <div class="step">
      <div class="step-check" onclick="toggleCheck(this)"></div>
      <div class="step-content">
        <div class="step-title">Create & activate Python venv</div>
        <pre>python -m venv .venv311
.venv311\Scripts\Activate.ps1
pip install -r requirements.txt</pre>
      </div>
    </div>
    <div class="step">
      <div class="step-check" onclick="toggleCheck(this)"></div>
      <div class="step-content">
        <div class="step-title">Login to Azure & set env vars</div>
        <pre>az login
$env:AZURE_SUBSCRIPTION_ID = "&lt;sub-id&gt;"
$env:AZURE_RESOURCE_GROUP = "rg-dnd-mlops-demo"
$env:AZURE_ML_WORKSPACE = "mlw-dndmlops2-dev"</pre>
      </div>
    </div>
    <div class="note note-success"><code>az account show</code> displays correct subscription.</div>
  </section>

  <!-- Module 2 -->
  <section id="m2" class="card module">
    <div class="module-header">
      <span class="module-number">2</span>
      <span class="module-title">Train & Track with MLflow</span>
      <span class="module-time">15 min</span>
    </div>
    <div class="step">
      <div class="step-check" onclick="toggleCheck(this)"></div>
      <div class="step-content">
        <div class="step-title">Open notebook</div>
        <div class="step-desc"><code>notebooks/01_azure_ml_mlflow_quickstart.ipynb</code></div>
      </div>
    </div>
    <div class="step">
      <div class="step-check" onclick="toggleCheck(this)"></div>
      <div class="step-content">
        <div class="step-title">Run Cells 1-9: Setup ‚Üí Train ‚Üí Register Model</div>
        <div class="step-desc">Authenticate, load UCI Spambase, train RandomForest, log metrics to MLflow</div>
      </div>
    </div>
    <div class="step">
      <div class="step-check" onclick="toggleCheck(this)"></div>
      <div class="step-content">
        <div class="step-title">Run Cells 11-12: Re-log model with numpy&lt;2.0</div>
        <div class="step-desc">Required for endpoint compatibility (sklearn-1.5 uses numpy 1.x)</div>
      </div>
    </div>
    <div class="note note-warn">
      MLflow embeds dependencies at log time. If numpy 2.x was installed, the model won't load in Azure ML environments. Cells 11-12 fix this.
    </div>
    <div class="note note-demo">Azure ML Studio ‚Üí Experiments ‚Üí <strong>mlops-hackathon-demo</strong>: runs, metrics, model versions.</div>
    <div class="note note-success">Model <code>spam-classifier</code> registered with numpy&lt;2.0 constraint.</div>
  </section>

  <!-- Module 3 -->
  <section id="m3" class="card module">
    <div class="module-header">
      <span class="module-number">3</span>
      <span class="module-title">Batch Endpoint</span>
      <span class="module-time">10 min</span>
    </div>
    <div class="step">
      <div class="step-check" onclick="toggleCheck(this)"></div>
      <div class="step-content">
        <div class="step-title">Run Cells 14-17: Batch Scoring Job</div>
        <div class="step-desc">Submit to cpu-cluster, poll status, download predictions.csv</div>
      </div>
    </div>
    <div class="step">
      <div class="step-check" onclick="toggleCheck(this)"></div>
      <div class="step-content">
        <div class="step-title">Run Cells 19-23: Create Batch Endpoint + Invoke</div>
        <div class="step-desc">Durable endpoint with sklearn-1.5 environment, submit test data</div>
      </div>
    </div>
    <div class="note note-demo">Azure ML Studio ‚Üí Batch Endpoints: endpoint details, deployment, job history.</div>
    <div class="note note-success">Batch job returns predictions (0=not spam, 1=spam).</div>
  </section>

  <!-- Module 4 -->
  <section id="m4" class="card module">
    <div class="module-header">
      <span class="module-number">4</span>
      <span class="module-title">Automated Retraining Pipeline</span>
      <span class="module-time">10 min</span>
    </div>
    <div class="step">
      <div class="step-check" onclick="toggleCheck(this)"></div>
      <div class="step-content">
        <div class="step-title">Submit retraining pipeline</div>
        <pre>python .\01-automated-retraining\submit_pipeline.py</pre>
      </div>
    </div>
    <div class="step">
      <div class="step-check" onclick="toggleCheck(this)"></div>
      <div class="step-content">
        <div class="step-title">Simulate event trigger</div>
        <pre>python .\01-automated-retraining\simulate_event_trigger.py</pre>
      </div>
    </div>
    <div class="note note-demo">Azure ML Studio ‚Üí Jobs: pipeline graph (data_prep ‚Üí train ‚Üí evaluate ‚Üí register).</div>
    <div class="note note-facilitator">Uses sklearn-1.5 environment. Registers model only if accuracy &gt; 90%.</div>
    <div class="note note-success">Pipeline runs visible in Studio with all steps.</div>
  </section>

  <!-- Module 5 -->
  <section id="m5" class="card module">
    <div class="module-header">
      <span class="module-number">5</span>
      <span class="module-title">Observability: Drift Detection</span>
      <span class="module-time">10 min</span>
    </div>
    <div class="step">
      <div class="step-check" onclick="toggleCheck(this)"></div>
      <div class="step-content">
        <div class="step-title">Submit drift job</div>
        <pre>python .\02-observability\submit_drift_job.py</pre>
      </div>
    </div>
    <div class="step">
      <div class="step-check" onclick="toggleCheck(this)"></div>
      <div class="step-content">
        <div class="step-title">Review metrics in Azure ML</div>
        <div class="step-desc">Experiments ‚Üí observability ‚Üí Drift + Quality Report ‚Üí Metrics tab</div>
      </div>
    </div>
    <div class="note note-demo">
      <strong>Metrics:</strong><br>
      ‚Ä¢ <code>psi_mean</code>: Population Stability Index (&lt;0.1 = no drift)<br>
      ‚Ä¢ <code>jsd_mean</code>: Jensen-Shannon Divergence (near 0 = similar distributions)<br>
      ‚Ä¢ <code>null_rate</code>: Data quality check
    </div>
    <div class="note note-success">Drift job completes with metrics logged.</div>
  </section>

  <!-- Module 6 -->
  <section id="m6" class="card module">
    <div class="module-header">
      <span class="module-number">6</span>
      <span class="module-title">Governance: Audit Report</span>
      <span class="module-time">5 min</span>
    </div>
    <div class="step">
      <div class="step-check" onclick="toggleCheck(this)"></div>
      <div class="step-content">
        <div class="step-title">Generate audit report</div>
        <pre>python .\03-governance\run_audit_report.py</pre>
      </div>
    </div>
    <div class="step">
      <div class="step-check" onclick="toggleCheck(this)"></div>
      <div class="step-content">
        <div class="step-title">Review audit_report.json</div>
        <div class="step-desc">Model registrations, deployments, active endpoints (last 7 days)</div>
      </div>
    </div>
    <div class="note note-success"><code>audit_report.json</code> generated with ML asset inventory.</div>
  </section>

  <!-- Wrap-up -->
  <section class="card" style="text-align:center;border-top:3px solid var(--ok);">
    <h3 style="margin-top:0;font-size:18px;">üéâ Workshop Complete!</h3>
    <div class="pillrow" style="justify-content:center;margin:10px 0;">
      <span class="pill">‚úÖ MLflow</span>
      <span class="pill">‚úÖ Registry</span>
      <span class="pill">‚úÖ Batch Endpoint</span>
      <span class="pill">‚úÖ Pipelines</span>
      <span class="pill">‚úÖ Drift</span>
      <span class="pill">‚úÖ Governance</span>
    </div>
    <h4 style="font-size:14px;margin-bottom:6px;">üßπ Cleanup</h4>
    <pre style="text-align:left;max-width:480px;margin:0 auto;">az ml batch-endpoint delete -n spam-batch-* -g $env:AZURE_RESOURCE_GROUP -w $env:AZURE_ML_WORKSPACE --yes</pre>
    <p style="font-size:11px;color:var(--muted);margin-top:12px;">Next: CI/CD ‚Ä¢ Real-time endpoints ‚Ä¢ Azure Monitor alerts</p>
  </section>

  <footer>MLOps Workshop Playbook v2.0 | February 2026</footer>
</div>

<script>
function toggleCheck(el) { el.classList.toggle('checked'); updateProgress(); }
function updateProgress() {
  const t = document.querySelectorAll('.step-check').length;
  const c = document.querySelectorAll('.step-check.checked').length;
  const p = Math.round((c / t) * 100);
  document.getElementById('progressFill').style.width = p + '%';
  document.getElementById('progressPercent').textContent = p + '%';
  let d = 0;
  document.querySelectorAll('.module').forEach(m => {
    const s = m.querySelectorAll('.step-check'), x = m.querySelectorAll('.step-check.checked');
    if (s.length && s.length === x.length) d++;
  });
  document.getElementById('completedCount').textContent = d;
}
</script>
</body>
</html>
